{include file="header.phtml"}

<div class="page-content" >

    <div class="page-header" >
        <h1>Domain Admins: {$domainModel.domain}</h1>
    </div>

{ViMbAdmin_Messages}

<table id="admin_list_table" cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Username</th>
            <th>
                <button onclick="addAdmin();">Add Admin</button>
            </th>
        </tr>
    </thead>
    <tbody>
{foreach $domainModel.DomainAdmin as $oneAdmin}
    <tr id="admin_{$oneAdmin.Admin.id}">
        <td>{$oneAdmin.Admin.username}{if not $oneAdmin.Admin.active} <em>(inactive)</em>{/if}</td>
        <td><button class="btn btn-mini" onclick="removeAdmin({$domainModel.id}, {$oneAdmin.Admin.id}, '{$oneAdmin.Admin.username}');">Remove</button></td>
    </tr>
{/foreach}
    </tbody>
</table>

<br />
<br />

<a class="btn" href="{genUrl controller='domain' action='list'}">Back to domain list</a>

{include file='domain/js/admins.js'}

<div id="add_admin_dialog">
    <select name="admin" id="admin_list">
    {foreach $adminList as $oneAdmin}
        <option value="{$oneAdmin.id}">{$oneAdmin.username}{if not $oneAdmin.active} <em>(inactive)</em>{/if}</option>
    {/foreach}
    </select>

    <br />

    <span id="add_admin_msg"></span>
</div>
</div>
{include file="footer.phtml"}
